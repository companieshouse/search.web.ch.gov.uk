{% extends "base.html" %}

{% block pageTitle %}
    {% if errorList.length > 0 %}
        Error:
    {% endif %}
        Search results - Advanced company search - Find and update company information - GOV.UK
{% endblock %}

{% block beforeContent %}

  {{ govukBackLink({
  text: "Back to Companies House service",
  href: "/"
  }) }}
{% endblock %}

{% block content %}

{# reloads the page if the user uses the navigation buttons in chrome or IE, the search fields will be populated correctly with the queries #}
<script>reloadPage()</script>

  {% if errorList.length > 0 %}
    {{ govukErrorSummary({
      titleText: ERROR_SUMMARY_TITLE,
      errorList: errorList
    }) }}
  {% endif %}
  
  {% set companyFormHtml %}      
    <fieldset class='govuk-fieldset'>

      <div class='govuk-form-group'>  
        <label class='accordion-label' for='companyNameIncludes'>
          Company names that contain
        </label>
        <input class='govuk-input govuk-!-width-width-full' id='companyNameIncludes' name='companyNameIncludes' type='text' value='{{ advancedSearchParams.companyNameIncludes }}'>
      </div>

      <hr class='govuk-section-break govuk-section-break--m govuk-section-break--visible'>

      <div class='govuk-form-group'>
        <label class='accordion-label' for='companyNameExcludes'>
          Exclude company names that contain
        </label>
        <input class='govuk-input govuk-!-width-width-full' id='companyNameExcludes' name='companyNameExcludes' type='text' value='{{ advancedSearchParams.companyNameExcludes }}'>
      </div>

    </fieldset>          
  {% endset %}

  {% set roaFormHtml %}      
    <div class="govuk-form-group">  
      <label class="accordion-label" for="registeredOfficeAddress">
        Enter a full or partial address
      </label>
      <input class='govuk-input govuk-!-width-width-full' id='registeredOfficeAddress' name='registeredOfficeAddress' type='text' value='{{ advancedSearchParams.location }}'>
    </div>         
  {% endset %}

  {% set incorporationDateHmtl %}
    {% if errorList.length > 0 %}
      {% if incorporatedFromError %}
        <div class='govuk-form-group govuk-form-group--error'>  
          <label class='accordion-label' for='incorporatedFrom' aria-label='Companies incorporated from'>
            From
          </label>
          <div id='incorporation-date-from-hint' class='accordion-hint'>
              For example, 27/03/2007
          </div>
            <span id="incorporatedFrom-error" class="govuk-error-message">
              <span class="govuk-visually-hidden">Error:</span> {{ incorporatedFromError.text }}
            </span>
          <input class='govuk-input govuk-input--width-10 govuk-input--error' id='incorporatedFrom' name='incorporatedFrom' type='text' value='{{ incorporatedFrom }}' aria-describedby='incorporatedFrom-error'>
        </div>
      {% else %}
        <div class='govuk-form-group'>  
          <label class='accordion-label' for='incorporatedFrom' aria-label='Companies incorporated from'>
            From
          </label>
          <div id='incorporation-date-from-hint' class='accordion-hint'>
              For example, 27/03/2007
          </div>
          <input class='govuk-input govuk-input--width-10' id='incorporatedFrom' name='incorporatedFrom' type='text' value='{{ incorporatedFrom }}' aria-describedby='incorporation-date-from-hint'>
        </div>
      {% endif %}

      <hr class='govuk-section-break govuk-section-break--m govuk-section-break--visible'>

      {% if incorporatedToError %}
        <div class='govuk-form-group govuk-form-group--error'>  
          <label class='accordion-label' for='incorporatedTo' aria-label='Companies incorporated to'>
            To
          </label>
          <div id='incorporation-date-to-hint' class='accordion-hint'>
              For example, 29/03/2007
          </div>
            <span id="incorporatedTo-error" class="govuk-error-message">
              <span class="govuk-visually-hidden">Error:</span> {{ incorporatedToError.text }}
            </span>
          <input class='govuk-input govuk-input--width-10 govuk-input--error' id='incorporatedTo' name='incorporatedTo' type='text' value='{{ incorporatedTo }}' aria-describedby='incorporatedTo-error'>
        </div>
      {% else %}
        <div class='govuk-form-group'>
          <label class='accordion-label' for='incorporatedTo' aria-label='Companies incorporated to'>
            To
          </label>
          <div id='incorporation-date-to-hint' class='accordion-hint'>
              For example, 29/03/2007
          </div>
          <input class='govuk-input govuk-input--width-10' id='incorporatedTo' name='incorporatedTo' type='text' value='{{ incorporatedTo }}' aria-describedby='incorporation-date-to-hint'>
        </div>
      {% endif %}
    {% else %}
      <div class='govuk-form-group'>  
        <label class='accordion-label' for='incorporatedFrom' aria-label='Companies incorporated from'>
          From
        </label>
        <div id='incorporation-date-from-hint' class='accordion-hint'>
            For example, 27/03/2007
        </div>
        <input class='govuk-input govuk-input--width-10' id='incorporatedFrom' name='incorporatedFrom' type='text' value='{{ incorporatedFrom }}' aria-describedby='incorporation-date-from-hint'>
      </div>

      <hr class='govuk-section-break govuk-section-break--m govuk-section-break--visible'>

      <div class='govuk-form-group'>
        <label class='accordion-label' for='incorporatedTo' aria-label='Companies incorporated to'>
          To
        </label>
        <div id='incorporation-date-to-hint' class='accordion-hint'>
            For example, 29/03/2007
        </div>
        <input class='govuk-input govuk-input--width-10' id='incorporatedTo' name='incorporatedTo' type='text' value='{{ incorporatedTo }}' aria-describedby='incorporation-date-to-hint'>
      </div>
    {% endif %}
  {% endset %}

  {% set statusFormHtml %}
  <div class='govuk-form-group'>
    <div class='govuk-form-group' style='overflow: scroll; height: 200px; width: 300px; padding-left: govuk-spacing(1);'>
      <fieldset class='govuk-fieldset'>
        <div class='govuk-checkboxes--small'>
          <div class='govuk-checkboxes__item'>
            <input class='govuk-checkboxes__input' id='activeCompanies' name='status' type='checkbox' value='active' {{ selectedStatusCheckboxes.active }}>
            <label class='govuk-label govuk-checkboxes__label' for='activeCompanies'>
              Active
            </label>
          </div>

          <div class='govuk-checkboxes__item'>
            <input class='govuk-checkboxes__input' id='dissolvedCompanies' name='status' type='checkbox' value='dissolved' {{ selectedStatusCheckboxes.dissolved }}>
            <label class='govuk-label govuk-checkboxes__label' for='dissolvedCompanies'>
              Dissolved
            </label>
          </div>

          <div class='govuk-checkboxes__item'>
            <input class='govuk-checkboxes__input' id='openCompanies' name='status' type='checkbox' value='open' {{ selectedStatusCheckboxes.open }}>
            <label class='govuk-label govuk-checkboxes__label' for='openCompanies'>
              Open
            </label>
          </div>

          <div class='govuk-checkboxes__item'>
            <input class='govuk-checkboxes__input' id='closedCompanies' name='status' type='checkbox' value='closed' {{  selectedStatusCheckboxes.closed }}>
            <label class='govuk-label govuk-checkboxes__label' for='closedCompanies'>
              Closed
            </label>
          </div>

          <div class='govuk-checkboxes__item'>
            <input class='govuk-checkboxes__input' id='convertedClosedCompanies' name='status' type='checkbox' value='converted-closed' {{selectedStatusCheckboxes.convertedClosed }}>
            <label class='govuk-label govuk-checkboxes__label' for='convertedClosedCompanies'>
              Converted closed
            </label>
          </div>

          <div class='govuk-checkboxes__item'>
            <input class='govuk-checkboxes__input' id='receivershipCompanies' name='status' type='checkbox' value='receivership' {{ selectedStatusCheckboxes.receivership }}>
            <label class='govuk-label govuk-checkboxes__label' for='receivershipCompanies'>
              Receivership
            </label>
          </div>

          <div class='govuk-checkboxes__item'>
            <input class='govuk-checkboxes__input' id='liquidationCompanies' name='status' type='checkbox' value='liquidation' {{ selectedStatusCheckboxes.liquidation }}>
            <label class='govuk-label govuk-checkboxes__label' for='liquidationCompanies'>
              Liquidation
            </label>
          </div>

          <div class='govuk-checkboxes__item'>
            <input class='govuk-checkboxes__input' id='administrationCompanies' name='status' type='checkbox' value='administration' {{ selectedStatusCheckboxes.administration }}>
            <label class='govuk-label govuk-checkboxes__label' for='administrationCompanies'>
              Administration
            </label>
          </div>

          <div class='govuk-checkboxes__item'>
            <input class='govuk-checkboxes__input' id='insolvencyProceedingsCompanies' name='status' type='checkbox' value='insolvency-proceedings' {{ selectedStatusCheckboxes.insolvencyProceedings }}>
            <label class='govuk-label govuk-checkboxes__label' for='insolvencyProceedingsCompanies'>
              Insolvency proceedings
            </label>
          </div>

          <div class='govuk-checkboxes__item'>
            <input class='govuk-checkboxes__input' id='voluntaryArrangementCompanies' name='status' type='checkbox' value='voluntary-arrangement' {{  selectedStatusCheckboxes.voluntaryArrangement }}>
            <label class='govuk-label govuk-checkboxes__label' for='voluntaryArrangementCompanies'>
              Voluntary arrangement
            </label>
          </div>
        </div>
      </fieldset>
    </div>
  </div>
{% endset %}

{% set sicCodeFormHtml %}
  {% if sicCodesError %}
    <div class='govuk-form-group govuk-form-group--error'>
      <label class='accordion-label padded-top' for='sicCodes'>
        Enter a Standard Industrial Classification (SIC) code to search by nature of business.
      </label>
      <div id='sic-hint' class='accordion-hint'>
        For example, 01120
      </div>

      <span id='sicCodes-error'class='govuk-error-message'>
        <span class='govuk-visually-hidden'>Error:</span> {{ sicCodesError.text }}
      </span>
      <input class='govuk-input govuk-!-width-full' id='sicCodes' name='sicCodes' type='text' value='{{ advancedSearchParams.sicCodes }}'>

      <p class='padded-top'> <a rel='noopener' href='http://resources.companieshouse.gov.uk/sic/' target='_blank' class='govuk-link accordion-label' data-event-id="advanced-search-results-page-sic-link">Browse SIC codes (opens in new tab)</a></p>
    </div>
  {% else %}
    <div class='govuk-form-group'>
      <label class='accordion-label padded-top' for='sicCodes'>
        Enter a Standard Industrial Classification (SIC) code to search by nature of business.
      </label>
      <div id='sic-hint' class='accordion-hint'>
        For example, 01120
      </div>

      <input class='govuk-input govuk-!-width-full' id='sicCodes' name='sicCodes' type='text' value='{{ advancedSearchParams.sicCodes }}'>

      <p class='padded-top'> <a href='http://resources.companieshouse.gov.uk/sic/' target='_blank' class='govuk-link accordion-label' data-event-id="advanced-search-results-page-sic-link">Browse SIC codes (opens in new tab)</a></p>
    </div>
{% endif %}
{% endset %}

{% set typeFormHtml %}
    <div class='govuk-form-group'>
      <div class='govuk-form-group' style='overflow: scroll; height: 200px; width: 300px; padding-left: 5px;'>
        <fieldset class='govuk-fieldset'>
          <div class='govuk-checkboxes--small'>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='private-unlimited' name='type' type='checkbox' value='private-unlimited' {{ selectedTypeCheckboxes.privateUnlimited }}>
              <label class='govuk-label govuk-checkboxes__label' for='private-unlimited'>
                Private unlimited company
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='ltd' name='type' type='checkbox' value='ltd' {{ selectedTypeCheckboxes.ltd }}>
              <label class='govuk-label govuk-checkboxes__label' for='ltd'>
                Private limited company
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='plc' name='type' type='checkbox' value='plc' {{ selectedTypeCheckboxes.plc }}>
              <label class='govuk-label govuk-checkboxes__label' for='plc'>
                Public limited company
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='old-public-company' name='type' type='checkbox' value='old-public-company' {{ selectedTypeCheckboxes.oldPublicCompany }}>
              <label class='govuk-label govuk-checkboxes__label' for='old-public-company'>
                Old public company
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='private-limited-guarant-nsc-limited-exemption' name='type' type='checkbox' value='private-limited-guarant-nsc-limited-exemption' {{ selectedTypeCheckboxes.privateLimitedGuarantNscLimitedExemption }}>
              <label class='govuk-label govuk-checkboxes__label' for='private-limited-guarant-nsc-limited-exemption'>
                Private Limited Company by guarantee without share capital, use of 'Limited' exemption
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='limited-partnership' name='type' type='checkbox' value='limited-partnership' {{ selectedTypeCheckboxes.limitedPartnership }}>
              <label class='govuk-label govuk-checkboxes__label' for='limited-partnership'>
                Limited partnership
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='private-limited-guarant-nsc' name='type' type='checkbox' value='private-limited-guarant-nsc' {{ selectedTypeCheckboxes.privateLimitedGuarantNsc }}>
              <label class='govuk-label govuk-checkboxes__label' for='private-limited-guarant-nsc'>
                Private limited by guarantee without share capital
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='converted-or-closed' name='type' type='checkbox' value='converted-or-closed' {{ selectedTypeCheckboxes.convertedOrClosed }}>
              <label class='govuk-label govuk-checkboxes__label' for='converted-or-closed'>
                Converted or closed
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='private-unlimited-nsc' name='type' type='checkbox' value='private-unlimited-nsc' {{ selectedTypeCheckboxes.privateUnlimitedNsc }}>
              <label class='govuk-label govuk-checkboxes__label' for='private-unlimited-nsc'>
                Private unlimited company without share capital
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='private-limited-shares-section-30-exemption' name='type' type='checkbox' value='private-limited-shares-section-30-exemption' {{ selectedTypeCheckboxes.privateLimitedSharesSection30Exemption }}>
              <label class='govuk-label govuk-checkboxes__label' for='private-limited-shares-section-30-exemption'>
                Private Limited Company, use of 'Limited' exemption
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='protected-cell-company' name='type' type='checkbox' value='protected-cell-company' {{ selectedTypeCheckboxes.protectedCellCompany }}>
              <label class='govuk-label govuk-checkboxes__label' for='protected-cell-company'>
                Protected cell company
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='assurance-company' name='type' type='checkbox' value='assurance-company' {{ selectedTypeCheckboxes.assuranceCompany }}>
              <label class='govuk-label govuk-checkboxes__label' for='assurance-company'>
                Assurance company
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='oversea-company' name='type' type='checkbox' value='oversea-company' {{ selectedTypeCheckboxes.overseaCompany }}>
              <label class='govuk-label govuk-checkboxes__label' for='oversea-company'>
                Overseas company
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='eeig' name='type' type='checkbox' value='eeig' {{ selectedTypeCheckboxes.eeig }}>
              <label class='govuk-label govuk-checkboxes__label' for='eeig'>
                European Economic Interest Grouping (EEIG)
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='icvc' name='type' type='checkbox' value='icvc' {{ selectedTypeCheckboxes.icvc }}>
              <label class='govuk-label govuk-checkboxes__label' for='icvc'>
                Investment company with variable capital
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='registered-society-non-jurisdictional' name='type' type='checkbox' value='registered-society-non-jurisdictional' {{ selectedTypeCheckboxes.registeredSocietyNonJurisdictional }}>
              <label class='govuk-label govuk-checkboxes__label' for='registered-society-non-jurisdictional'>
                Registered society
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='industrial-and-provident-society' name='type' type='checkbox' value='industrial-and-provident-society' {{ selectedTypeCheckboxes.industrialAndProvidentSociety }}>
              <label class='govuk-label govuk-checkboxes__label' for='industrial-and-provident-society'>
                Industrial and Provident society
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='northern-ireland' name='type' type='checkbox' value='northern-ireland' {{ selectedTypeCheckboxes.northernIreland }}>
              <label class='govuk-label govuk-checkboxes__label' for='northern-ireland'>
                Northern Ireland company
              </label>
            </div>          

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='northern-ireland-other' name='type' type='checkbox' value='northern-ireland-other' {{ selectedTypeCheckboxes.northernIrelandOther }}>
              <label class='govuk-label govuk-checkboxes__label' for='northern-ireland-other'>
                Credit union (Northern Ireland)
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='llp' name='type' type='checkbox' value='llp' {{ selectedTypeCheckboxes.llp }}>
              <label class='govuk-label govuk-checkboxes__label' for='llp'>
                Limited liability partnership
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='royal-charter' name='type' type='checkbox' value='royal-charter' {{ selectedTypeCheckboxes.royalCharter }}>
              <label class='govuk-label govuk-checkboxes__label' for='royal-charter'>
                Royal charter company
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='unregistered-company' name='type' type='checkbox' value='unregistered-company' {{ selectedTypeCheckboxes.unregisteredCompany }}>
              <label class='govuk-label govuk-checkboxes__label' for='unregistered-company'>
                Unregistered company
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='european-public-limited-liability-company-se' name='type' type='checkbox' value='european-public-limited-liability-company-se' {{ selectedTypeCheckboxes.europeanPublicLimitedLiabilityCompanySe }}>
              <label class='govuk-label govuk-checkboxes__label' for='european-public-limited-liability-company-se'>
                European public limited liability company (SE)
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='uk-establishment' name='type' type='checkbox' value='uk-establishment' {{ selectedTypeCheckboxes.ukEstablishment }}>
              <label class='govuk-label govuk-checkboxes__label' for='uk-establishment'>
                UK establishment company
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='scottish-partnership' name='type' type='checkbox' value='scottish-partnership' {{ selectedTypeCheckboxes.scottishPartnership }}>
              <label class='govuk-label govuk-checkboxes__label' for='scottish-partnership'>
                Scottish qualifying partnership
              </label>
            </div>
            
            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='charitable-incorporated-organisation' name='type' type='checkbox' value='charitable-incorporated-organisation' {{ selectedTypeCheckboxes.charitableIncorporatedOrganisation }}>
              <label class='govuk-label govuk-checkboxes__label' for='charitable-incorporated-organisation'>
                Charitable incorporated organisation
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='scottish-charitable-incorporated-organisation' name='type' type='checkbox' value='scottish-charitable-incorporated-organisation' {{ selectedTypeCheckboxes.scottishCharitableIncorporatedOrganisation }}>
              <label class='govuk-label govuk-checkboxes__label' for='scottish-charitable-incorporated-organisation'>
                Scottish charitable incorporated organisation
              </label>
            </div>

            <div class='govuk-checkboxes__item'>
              <input class='govuk-checkboxes__input' id='further-education-or-sixth-form-college-corporation' name='type' type='checkbox' value='further-education-or-sixth-form-college-corporation' {{ selectedTypeCheckboxes.furtherEducationOrSixthFormCollegeCorporation }}>
              <label class='govuk-label govuk-checkboxes__label' for='further-education-or-sixth-form-college-corporation'>
                Further education or sixth form college corporation
              </label>
            </div>    
          </div>
        </fieldset>
      </div>
    </div>
  {% endset %}

  {% set dissolutionDateHtml %}
    {% if errorList.length > 0 %}
      {% if dissolvedFromError %}
        <div class='govuk-form-group govuk-form-group--error'>  
          <span class='accordion-label govuk-!-margin-bottom-3'>
            We can only show companies dissolved since 01/01/2010.
          </span>

          <label class='accordion-label' for='dissolvedFrom' aria-label='Companies dissolved from'>
            From
          </label>
          <div id='dissolved-date-from-hint' class='accordion-hint'>
              For example, 21/03/2011
          </div>
            <span id="dissolvedFrom-error" class="govuk-error-message">
              <span class="govuk-visually-hidden">Error:</span> {{ dissolvedFromError.text }}
            </span>
          <input class='govuk-input govuk-input--width-10 govuk-input--error' id='dissolvedFrom' name='dissolvedFrom' type='text' value='{{ dissolvedFrom }}' aria-describedby='dissolvedFrom-error'>
        </div>
      {% else %}
      <div class='govuk-form-group'>  
        <span class='accordion-label govuk-!-margin-bottom-3'>
          We can only show companies dissolved since 01/01/2010.
        </span>

        <label class='accordion-label' for='dissolvedFrom' aria-label='Companies dissolved from'>
          From
        </label>
        <div id='dissolved-date-from-hint' class='accordion-hint'>
            For example, 23/03/2011
        </div>
        <input class='govuk-input govuk-input--width-10' id='dissolvedFrom' name='dissolvedFrom' type='text' value='{{ dissolvedFrom }}' aria-describedby='dissolved-date-from-hint'>
      </div>
    {% endif %}

    <hr class='govuk-section-break govuk-section-break--m govuk-section-break--visible'>

    {% if dissolvedToError %}
      <div class='govuk-form-group govuk-form-group--error'>  
        <label class='accordion-label' for='dissolvedTo' aria-label='Companies dissolved to'>
          To
        </label>
        <div id='dissolved-date-to-hint' class='accordion-hint'>
            For example, 21/03/2011
        </div>
          <span id="dissolvedTo-error" class="govuk-error-message">
            <span class="govuk-visually-hidden">Error:</span> {{ dissolvedToError.text }}
          </span>
        <input class='govuk-input govuk-input--width-10 govuk-input--error' id='dissolvedTo' name='dissolvedTo' type='text' value='{{ dissolvedTo }}' aria-describedby='dissolvedTo-error'>
      </div>
    {% else %}
      <div class='govuk-form-group'>
        <label class='accordion-label' for='dissolvedTo' aria-label='Companies dissolved to'>
          To
        </label>
        <div id='dissolved-date-to-hint' class='accordion-hint'>
            For example, 23/03/2011
        </div>
        <input class='govuk-input govuk-input--width-10' id='dissolvedTo' name='dissolvedTo' type='text' value='{{ dissolvedTo }}' aria-describedby='dissolved-date-to-hint'>
      </div>
    {% endif %}
  {% else %}
    <div class='govuk-form-group'>  
      <span class='accordion-label govuk-!-margin-bottom-3'>
        We can only show companies dissolved since 01/01/2010.
      </span>
      <label class='accordion-label' for='dissolvedFrom' aria-label='Companies dissolved from'>
        From
      </label>
      <div id='dissolved-date-from-hint' class='accordion-hint'>
          For example, 21/03/2011
      </div>
      <input class='govuk-input govuk-input--width-10' id='dissolvedFrom' name='dissolvedFrom' type='text' value='{{ dissolvedFrom }}' aria-describedby='dissolved-date-from-hint'>
    </div>

    <hr class='govuk-section-break govuk-section-break--m govuk-section-break--visible'>

    <div class='govuk-form-group'>
      <label class='accordion-label' for='dissolvedTo' aria-label='Companies dissolved to'>
        To
      </label>
      <div id='dissolved-date-to-hint' class='accordion-hint'>
          For example, 23/03/2011
      </div>
      <input class='govuk-input govuk-input--width-10' id='dissolvedTo' name='dissolvedTo' type='text' value='{{ dissolvedTo }}' aria-describedby='dissolved-date-to-hint'>
    </div>
  {% endif %}
{% endset %}

<div class="govuk-width-container">

  <div class="govuk-grid-row">

    <div class="govuk-grid-column-full">

        <h1 class="govuk-heading-l">Advanced company search</h1>

        <p class="govuk-body">Fill in one or more fields to search the Companies House register.</p>

    </div>
  </div>


  <div class="govuk-grid-row">

    <div class="govuk-grid-column-one-third" style="margin-right: 15px;">

      <form action="/advanced-search/get-results" method="GET" autocomplete="off">

        <div class="govuk-button-group">
            <button class="govuk-button" data-module="govuk-button" data-event-id = "advanced-search-results-page-update">
              Update results
            </button>
            <input type="button" class="govuk-button govuk-button--secondary" value="Clear search" onclick="clearForm(this.form)" data-event-id="advanced-search-results-page-clear" ></input>
        </div>

        {{ govukAccordion({
          id: "accordion-default",

          items: [
            {
              heading: {
                text: "Company name"
              },
              content: {
                html: companyFormHtml
              }
            },
             {
              heading: {
                text: "Registered office address"
              },
              content: {
                html: roaFormHtml
              }
            },
            {
              heading: {
                text: "Incorporation date"
              },
              content: {
                html: incorporationDateHmtl
              }
            },
            {
              heading: {
                text: "Company status"
              },
              content: {
                html: statusFormHtml
              }
            },
            {
              heading: {
                text: "Nature of business"
              },
              content: {
                html: sicCodeFormHtml
              }
            }, 
            {
              heading: {
                text: "Company type"
              },
              content: {
                html: typeFormHtml
              }
            },
            {
              heading: {
                text: "Dissolved date"
              },
              content: {
                html: dissolutionDateHtml
              }
            }
          ]
        }) }}
        
        <div class="govuk-button-group">
            <button class="govuk-button" data-module="govuk-button" data-event-id = "advanced-search-results-page-update">
              Update results
            </button>
            <input type="button" class="govuk-button govuk-button--secondary" value="Clear search" onclick="clearForm(this.form)" data-event-id="advanced-search-results-page-clear"></input>
        </div>
      </form>

    </div>

    <div class="govuk-grid-two-thirds two-thirds-div" style="padding-top: 45px;">
      <div>
        {% if searchResults.length > 0 %}
          {{ govukTable ({
              rows: searchResults,
              classes: 'govuk-!-font-size-16'
          }) }}

          {% if numberOfPages > 1 %}
              {% include "../components/pagination.html" %}
          {% endif %}
        {% else %}
          <h2 class="govuk-heading-l" style="overflow-wrap: break-word;">No results found</h2>
          <p class="govuk-body">Please try searching again using a different search criteria.</p>
        {% endif %}
      </div>
    </div>
  </div>   
</div>
{% endblock %}